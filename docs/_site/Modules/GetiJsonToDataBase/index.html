<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="A front-end template that helps you build fast, modern mobile web apps.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <title>index</title>

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="192x192" href="images/android-desktop.png">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Material Design Lite">
    <link rel="apple-touch-icon-precomposed" href="images/ios-desktop.png">

    <!-- Tile icon for Win8 (144x144 + tile color) -->
    <meta name="msapplication-TileImage" content="images/touch/ms-touch-icon-144x144-precomposed.png">
    <meta name="msapplication-TileColor" content="#3372DF">

    <link rel="shortcut icon" href="images/favicon.png">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <link rel="stylesheet" href="/assets/css/custom.css">
    <style>
    </style>
  </head>
  <body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      <header class="mdl-layout__header">
        <div class="mdl-layout__header-row">
          <!-- Title -->
          <span class="mdl-layout-title">index</span>
          <!-- Add spacer, to align navigation to the right -->
          <div class="mdl-layout-spacer"></div>
          <!-- Navigation -->
          <nav class="mdl-navigation mdl-layout--large-screen-only">
            <a class="mdl-navigation__link" href="/">Accueil</a>
            <a class="mdl-navigation__link" href="/sitemap.html">Plan du site</a>
            <a class="mdl-navigation__link" href="https://github.com/suissard/multibot" target="_blank">GitHub</a>
          </nav>
        </div>
      </header>
      <div class="mdl-layout__drawer">
        <span class="mdl-layout-title">Navigation</span>
        <nav class="mdl-navigation">
    <a class="mdl-navigation__link" href="/">Accueil</a>
    <a class="mdl-navigation__link" href="/modules-list.html">Modules</a>
    <a class="mdl-navigation__link" href="/commands-list.html">Commandes</a>
    <a class="mdl-navigation__link" href="/classes-list.html">Classes</a>
    <a class="mdl-navigation__link" href="/events-list.html">Events</a>
    <div class="mdl-layout-spacer"></div>
    <a class="mdl-navigation__link" href="/sitemap.html">Plan du site</a>
</nav>
      </div>
      <main class="mdl-layout__content">
        <div class="page-content"><h1 id="index"><code class="language-plaintext highlighter-rouge">index</code></h1>

<p>Ce module contient un ensemble de scripts utilitaires conçus pour la migration de données. Sa fonction principale est de lire des données depuis des fichiers JSON, de les transformer dans un format compatible avec la base de données, puis de les y insérer. Il inclut des fonctions spécifiques pour traiter les données “Geti” et pour convertir d’anciens formats de configuration, comme ceux de ‘ShareChannel’, vers la nouvelle structure de la base de données. Ce module n’est pas destiné à être activé ou désactivé comme les autres modules du bot, mais plutôt à être utilisé ponctuellement pour des tâches de maintenance et de migration.</p>

<p>Lit les fichiers d’un répertoire et les insère dans une base de données.</p>

<p><strong>Parameters:</strong></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">dbname</code></td>
      <td><code class="language-plaintext highlighter-rouge">string</code></td>
      <td>- Le nom de la collection dans la base de données.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">dirPath</code></td>
      <td><code class="language-plaintext highlighter-rouge">string</code></td>
      <td>- Le chemin vers le répertoire contenant les données.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">exclusions</code></td>
      <td><code class="language-plaintext highlighter-rouge">Array&lt;string&gt;</code></td>
      <td>- Une liste de fichiers à exclure.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">databasify</code></td>
      <td><code class="language-plaintext highlighter-rouge">function</code></td>
      <td>- Une fonction pour transformer les données avant l’insertion.</td>
    </tr>
  </tbody>
</table>

<p>Transforme un objet de données “Geti” brut en un format adapté à la base de données. Renomme <code class="language-plaintext highlighter-rouge">key</code> en <code class="language-plaintext highlighter-rouge">_id</code> et supprime plusieurs propriétés inutiles.</p>

<p><strong>Parameters:</strong></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">getiData</code></td>
      <td><code class="language-plaintext highlighter-rouge">object</code></td>
      <td>- L’objet de données Geti à transformer.</td>
    </tr>
  </tbody>
</table>

<p><strong>Returns:</strong> <code class="language-plaintext highlighter-rouge">object</code> - de données formaté pour la base de données.</p>

<p>Convertit les anciennes données de ShareChannel vers le nouveau format de base de données.</p>

<p><strong>Parameters:</strong></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">oldData</code></td>
      <td><code class="language-plaintext highlighter-rouge">Array&lt;object&gt;</code></td>
      <td>- Un tableau d’anciens objets ShareChannel.</td>
    </tr>
  </tbody>
</table>

</div>
      </main>
    </div>
    <script src="https://code.getmdl.io/1.3.0/material.min.js"></script>
  </body>
</html>
