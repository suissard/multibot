<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="A front-end template that helps you build fast, modern mobile web apps.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <title>index</title>

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="192x192" href="images/android-desktop.png">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Material Design Lite">
    <link rel="apple-touch-icon-precomposed" href="images/ios-desktop.png">

    <!-- Tile icon for Win8 (144x144 + tile color) -->
    <meta name="msapplication-TileImage" content="images/touch/ms-touch-icon-144x144-precomposed.png">
    <meta name="msapplication-TileColor" content="#3372DF">

    <link rel="shortcut icon" href="images/favicon.png">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <link rel="stylesheet" href="/assets/css/custom.css">
    <style>
    </style>
  </head>
  <body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      <header class="mdl-layout__header">
        <div class="mdl-layout__header-row">
          <!-- Title -->
          <span class="mdl-layout-title">index</span>
          <!-- Add spacer, to align navigation to the right -->
          <div class="mdl-layout-spacer"></div>
          <!-- Navigation -->
          <nav class="mdl-navigation mdl-layout--large-screen-only">
            <a class="mdl-navigation__link" href="/">Accueil</a>
            <a class="mdl-navigation__link" href="/sitemap.html">Plan du site</a>
            <a class="mdl-navigation__link" href="https://github.com/suissard/multibot" target="_blank">GitHub</a>
          </nav>
        </div>
      </header>
      <div class="mdl-layout__drawer">
        <span class="mdl-layout-title">Navigation</span>
        <nav class="mdl-navigation">
    <a class="mdl-navigation__link" href="/">Accueil</a>
    <a class="mdl-navigation__link" href="/modules-list.html">Modules</a>
    <a class="mdl-navigation__link" href="/commands-list.html">Commandes</a>
    <a class="mdl-navigation__link" href="/classes-list.html">Classes</a>
    <a class="mdl-navigation__link" href="/events-list.html">Events</a>
    <div class="mdl-layout-spacer"></div>
    <a class="mdl-navigation__link" href="/sitemap.html">Plan du site</a>
</nav>
      </div>
      <main class="mdl-layout__content">
        <div class="page-content"><h1 id="index"><code class="language-plaintext highlighter-rouge">index</code></h1>

<p>Ce module a pour but de notifier les membres de la communauté des matchs à venir. À l’aide d’une tâche planifiée (cron), il interroge régulièrement l’API pour obtenir la liste des futurs matchs. Pour chaque match, il vérifie si la date de début est proche et si des casters y ont été assignés. Si c’est le cas, et qu’aucune notification n’a déjà été envoyée pour ce match, il publie un message dans le salon de notification approprié. Ce message mentionne les équipes, la division, l’heure du match, les casters, et notifie également le rôle Discord correspondant pour assurer une visibilité maximale.</p>

<p><strong>Parameters:</strong></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">bot</code></td>
      <td><code class="language-plaintext highlighter-rouge">Bot</code></td>
      <td>- L’instance du bot.</td>
    </tr>
  </tbody>
</table>

<p>Initialise le cache pour le notificateur de matchs sur l’objet bot.</p>

<p><strong>Parameters:</strong></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">bot</code></td>
      <td><code class="language-plaintext highlighter-rouge">Bot</code></td>
      <td>- L’instance du bot.</td>
    </tr>
  </tbody>
</table>

<p><strong>Returns:</strong> <code class="language-plaintext highlighter-rouge">object</code> - cache du MatchNotifier.</p>

<p>Ajoute l’identifiant d’un match au cache pour marquer qu’il a été notifié.</p>

<p><strong>Parameters:</strong></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">bot</code></td>
      <td><code class="language-plaintext highlighter-rouge">Bot</code></td>
      <td>- L’instance du bot.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">matchId</code></td>
      <td><code class="language-plaintext highlighter-rouge">string</code></td>
      <td>- L’identifiant du match.</td>
    </tr>
  </tbody>
</table>

<p>Vérifie si un match a déjà été notifié en consultant le cache.</p>

<p><strong>Parameters:</strong></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">bot</code></td>
      <td><code class="language-plaintext highlighter-rouge">Bot</code></td>
      <td>- L’instance du bot.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">matchId</code></td>
      <td><code class="language-plaintext highlighter-rouge">string</code></td>
      <td>- L’identifiant du match.</td>
    </tr>
  </tbody>
</table>

<p><strong>Returns:</strong> <code class="language-plaintext highlighter-rouge">boolean</code> - si le match a été notifié, sinon <code class="language-plaintext highlighter-rouge">false</code>.</p>

<p>Initialise le module MatchNotifier pour un bot. Ce module envoie des notifications pour les matchs à venir via une tâche planifiée (cron).</p>

<p><strong>Parameters:</strong></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">bot</code></td>
      <td><code class="language-plaintext highlighter-rouge">Bot</code></td>
      <td>- L’instance du bot.</td>
    </tr>
  </tbody>
</table>

<p>Récupère l’ID du rôle de notification pour une division de compétition spécifique.</p>

<p><strong>Parameters:</strong></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">competId</code></td>
      <td><code class="language-plaintext highlighter-rouge">string</code></td>
      <td>- L’ID de la compétition.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">divisionName</code></td>
      <td><code class="language-plaintext highlighter-rouge">string</code></td>
      <td>- Le nom de la division.</td>
    </tr>
  </tbody>
</table>

<p><strong>Returns:</strong> <code class="language-plaintext highlighter-rouge">string</code> - du rôle de notification.</p>

<p>Récupère l’ID du salon de notification pour une compétition spécifique.</p>

<p><strong>Parameters:</strong></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">competId</code></td>
      <td><code class="language-plaintext highlighter-rouge">string</code></td>
      <td>- L’ID de la compétition.</td>
    </tr>
  </tbody>
</table>

<p><strong>Returns:</strong> <code class="language-plaintext highlighter-rouge">string</code> - du salon de notification.</p>

<p>Une fois le bot prêt, ce gestionnaire configure et lance la tâche planifiée pour l’envoi des notifications de match.</p>

</div>
      </main>
    </div>
    <script src="https://code.getmdl.io/1.3.0/material.min.js"></script>
  </body>
</html>
